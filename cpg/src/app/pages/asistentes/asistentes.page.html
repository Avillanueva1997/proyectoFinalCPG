<ion-header no-border>
  <ion-toolbar>
    <ion-buttons slot="start"><ion-back-button defaultHref="event"></ion-back-button></ion-buttons>
    <ion-title class="ion-text-capitalize">{{titulo}}</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
    <ion-refresher slot="fixed" (ionRefresh)="recargar($event)">
      <ion-refresher-content></ion-refresher-content>
    </ion-refresher>
  <ion-grid>
    <ion-row>
      <ion-col>
          <ion-button class="clgreen" [routerLink]="['/nasistente']">Nuevo asistente</ion-button>
          <ion-button class="clblue" [routerLink]="['/masistentes']">Registrar masivo</ion-button>
          <ion-button class="clblue" [routerLink]="['/scancodigo']"><ion-icon name="qr-scanner"></ion-icon></ion-button>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <ion-searchbar placeholder="Buscar" color="cgreen" (ionChange)="onSearch($event)" class="clgreen wid50"></ion-searchbar>
      </ion-col>
    </ion-row>  
    <ion-row>
      <ion-col size="12">
        <table>
          <thead>
          <tr class="radiustr">
            <th class="radiusthleft">Código</th>
            <th>Fuente</th>
            <th>Nombre</th>
            <th>AP. Paterno</th>
            <th>AP. Materno</th>
            <th>Empresa</th>
            <th>Cargo</th>
            <th>Email</th>
            <th>Télefono</th>
            <th>Ciudad</th>
            <th>País</th>
            <th>Lead Source</th>
            <th>Lead Source Details</th>
            <th>Product Interest</th>
            <th>Lead Owner</th>
            <th class="radiusthright">Asistencia</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let asistente of asistentes">
            <td>{{asistente.codigo}}</td>
            <td>{{asistente.fuente}}</td>
            <td>{{asistente.name}}</td>
            <td>{{asistente.appaterno}}</td>
            <td>{{asistente.apmaterno}}</td>
            <td>{{asistente.empresa}}</td>
            <td>{{asistente.cargo}}</td>
            <td>{{asistente.email}}</td>
            <td>{{asistente.telefono}}</td>
            <td>{{asistente.ciudad}}</td>
            <td>{{asistente.pais}}</td>
            <td>{{asistente.leadsource}}</td>
            <td>{{asistente.leadsourced}}</td>
            <td>{{asistente.productinterest}}</td>
            <td>{{asistente.leadowner}}</td>
            <td><ion-toggle color="cgreen" name="asisitio" [(ngModel)]="asistente.asistio" (ionChange)="onToggleChange($event, asistente.codigo)"></ion-toggle></td>
          </tr>
          </tbody>
        </table>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
