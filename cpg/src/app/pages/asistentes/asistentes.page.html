<ion-header no-border>
  <ion-toolbar>
    <ion-buttons slot="start"><ion-back-button defaultHref="event"></ion-back-button></ion-buttons>
    <ion-title class="ion-text-capitalize">{{titulo}}</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
    <ion-refresher slot="fixed" (ionRefresh)="recargar($event)">
      <ion-refresher-content></ion-refresher-content>
    </ion-refresher>
  <ion-grid>
    <ion-row>
      <ion-col>
          <ion-button class="clgreen" [routerLink]="['/nasistente']">Nuevo asistente</ion-button>
          <ion-button class="clblue" [routerLink]="['/masistentes']">Registrar masivo</ion-button>
          <ion-button class="clblue" [routerLink]="['/scancodigo']"><ion-icon name="qr-scanner" slot="icon-only"></ion-icon></ion-button>
      </ion-col>
    </ion-row>
    <ion-row *ngIf="!mobile">
      <ion-col size="4">
        <ion-searchbar placeholder="Nombre" color="cgreen"  name="valueSearchName" [(ngModel)]="valueSearchName" (ionChange)="onSearchOne($event)" class="clgreen wid50" id="searchNombre"></ion-searchbar>
      </ion-col>
      <ion-col size="4">
        <ion-searchbar placeholder="Ap. paterno" color="cgreen" name="valueSearchAppaterno" [(ngModel)]="valueSearchAppaterno" (ionChange)="onSearchTwo($event)" class="clgreen wid50"></ion-searchbar>
      </ion-col>
      <ion-col size="4">
        <ion-searchbar placeholder="Ap. materno" color="cgreen" name="valueSearchApmaterno" [(ngModel)]="valueSearchApmaterno" (ionChange)="onSearchThree($event)" class="clgreen wid50"></ion-searchbar>
      </ion-col>
    </ion-row>
    <ion-row *ngIf="!mobile">
        <ion-col size="4">
          <ion-searchbar placeholder="Empresa" color="cgreen" name="valueSearchEmpresa" [(ngModel)]="valueSearchEmpresa" (ionChange)="onSearchFour($event)" class="clgreen wid50"></ion-searchbar>
        </ion-col>
        <ion-col size="4">
          <ion-searchbar placeholder="Tipo de invitado" color="cgreen" name="valueSearchTipoinvitado" [(ngModel)]="valueSearchTipoinvitado" (ionChange)="onSearchFive($event)" class="clgreen wid50"></ion-searchbar>
        </ion-col>
        <ion-col size="4">
            <ion-button class="clblue" (click)="onClearFilter($event)"><ion-icon name="refresh" slot="icon-only"></ion-icon></ion-button>
        </ion-col>
    </ion-row>
    <ion-row  *ngIf="mobile">
      <ion-col>
        <ion-searchbar placeholder="Nombre" color="cgreen" name="valueSearchName" [(ngModel)]="valueSearchName" (ionChange)="onSearchOne($event)" class="clgreen wid50"></ion-searchbar>
      </ion-col>
    </ion-row>
    <ion-row *ngIf="mobile">
      <ion-col><ion-searchbar placeholder="Ap. paterno" color="cgreen" name="valueSearchAppaterno" [(ngModel)]="valueSearchAppaterno" (ionChange)="onSearchTwo($event)" class="clgreen wid50"></ion-searchbar></ion-col>
    </ion-row>
    <ion-row *ngIf="mobile">
      <ion-col><ion-searchbar placeholder="Ap. materno" color="cgreen" name="valueSearchApmaterno" [(ngModel)]="valueSearchApmaterno" (ionChange)="onSearchThree($event)" class="clgreen wid50"></ion-searchbar></ion-col>
    </ion-row>
    <ion-row *ngIf="mobile">
        <ion-col><ion-searchbar placeholder="Empresa" color="cgreen" name="valueSearchEmpresa" [(ngModel)]="valueSearchEmpresa" (ionChange)="onSearchFour($event)" class="clgreen wid50"></ion-searchbar></ion-col>
    </ion-row>
    <ion-row *ngIf="mobile">
        <ion-col><ion-searchbar placeholder="Tipo de invitado" color="cgreen" name="valueSearchTipoinvitado" [(ngModel)]="valueSearchTipoinvitado" (ionChange)="onSearchFive($event)" class="clgreen wid50"></ion-searchbar></ion-col>
    </ion-row>
    <ion-row *ngIf="mobile">
        <ion-col><ion-button class="clblue" (click)="onClearFilter($event)"><ion-icon name="refresh" slot="icon-only"></ion-icon></ion-button></ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="12">
        <table>
          <thead>
          <tr class="radiustr">
            <th class="radiusthleft">CÃ³digo</th>
            <th>Nombre</th>
            <th>AP. Paterno</th>
            <th>AP. Materno</th>
            <th>Empresa</th>
            <th>Tipo de Invitado</th>
            <th>Asistencia</th>
            <th>Editar</th>
            <th class="radiusthright">Ver</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let asistente of asistentes">
            <td>{{asistente.codigo}}</td>
            <td>{{asistente.name}}</td>
            <td>{{asistente.appaterno}}</td>
            <td>{{asistente.apmaterno}}</td>
            <td>{{asistente.empresa}}</td>
            <td>{{asistente.tipoinvitado}}</td>
            <td *ngIf="asistente.asistio"><ion-toggle color="cgreen" name="asisitio" [(ngModel)]="asistente.asistio" disabled="true"></ion-toggle></td>
            <td *ngIf="!asistente.asistio"><ion-toggle color="cgreen" name="asisitio" [(ngModel)]="asistente.asistio" (ionChange)="onToggleChange($event, asistente.codigo)"></ion-toggle></td>
            <td><ion-button (click)="onEdit(asistente)"><ion-icon slot="icon-only" name="create"></ion-icon></ion-button></td>
            <td><ion-button (click)="onWatch(asistente)"><ion-icon slot="icon-only" name="eye"></ion-icon></ion-button></td>
          </tr>
          </tbody>
        </table>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
